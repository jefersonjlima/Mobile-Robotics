\documentclass{beamer}
\usetheme{simple}
\usepackage[brazil]{babel}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usefonttheme[onlymath]{serif}
\usepackage[scale=2]{ccicons}

\usepackage{graphicx,hyperref,url,pgfplots}
\usepackage{amsmath} 
\usepackage{array,booktabs}
\pgfplotsset{compat=1.15}
\pgfplotsset{width=7cm}


\setbeamercovered{invisible}
\newcommand{\pausar}{\pause}
\newcommand{\df}[1]{\,\mathrm{d}#1}
\newcommand{\parcial}[3]{\dfrac{\partial^{#1}#2}{\partial #3^{#1}}}

\usepackage{tikz}
\usepackage{xcolor}
\usetikzlibrary{scopes}
\usepackage{verbatim}
\usetikzlibrary{patterns}

\usepackage{listings}
	\definecolor{codegreen}{rgb}{0,0.6,0}
	\definecolor{codegray}{rgb}{0.5,0.5,0.5}
	\definecolor{codepurple}{rgb}{0.58,0,0.82}
	\definecolor{backcolour}{rgb}{0.92,0.92,0.92}
	\lstset{language=Python, 
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{magenta},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\fontsize{8}{11}\ttfamily,
	frame=lines,
%	numbers=left,
	tabsize=2,
	morekeywords={models, lambda, forms}}


\title{Filtro de Kalman}
\subtitle{Introdução - Sistemas Lineares}
\date{\today}
\author{Jeferson Lima}
\institute{\url{http://gitlab.com/jeferson.lima}}

\begin{document}

\maketitle

\begin{frame}{Informações Úteis}
	\begin{block}{Material disponível em:}
		\href{Robótica Móvel - Wiki}{https://gitlab.com/cursoseaulas/robotica-movel/-/wikis/home}
	\end{block}
	\pausar
	\begin{block}{Datas Importantes}
		\begin{itemize}
		\item Entrega
		\item Envio
		\end{itemize}
	\end{block}
	\pausar
	\begin{block}{Requisitos da Disciplina}
		\begin{itemize}
		\item Teoria de Controle
		\item Linguagem de Programação - \textbf{Python} ou \textbf{C++}
		\item Eletrônica
		\end{itemize}
	\end{block}
\end{frame}

%-----------------------------------------------------------------

\begin{frame}{Teorema de Bayes}
    \framesubtitle{Revisão}    
  \begin{itemize}
    \item Estado Estimado $x$ de um sistema observado $z$ e com controle em $u$.
    \item Objetivo:
  \end{itemize}

  \begin{equation}
    p(x|z,u)
  \end{equation}
\end{frame}


\begin{frame}{Filtro Bayes}
    \framesubtitle{Revisão}
    
    \begin{block}{}
        \begin{equation*}
            bel(x_t) = \eta p(z_t| x_t) \int p(x_t| u_t, x_{t-1}) bel(x_{t-1})dx_{t-1}
        \end{equation*}
    \end{block}

    \begin{itemize}
        \item Predição:
        
        \begin{equation*}
            \overline{bel}(x_t) = \int p(x_t| u_t, x_{t-1}) bel(x_{t-1})dx_{t-1}
        \end{equation*}

        \item Correção:

        \begin{equation*}
            bel(x_t) = \eta p(z_t| x_t) \int p(x_t| u_t, x_{t}) \overline{bel}(x_{t})dx_{t-1}
        \end{equation*}
    \end{itemize}
\end{frame}


\begin{frame}{Distribuição Normal (Gaussiana)}
    \framesubtitle{Revisão}  
    \begin{itemize}
        \item \textbf{Uma Variável:} $\color{blue}{p(x) \sim N(\mu, \sigma^2)}$
    \end{itemize}

    \begin{block}{}
        \begin{equation*}
            p(x) = \dfrac{1}{\sqrt{2\pi\sigma^2}}\cdot 
        \exp\left\{-\frac{(x-\mu)^2}{2\sigma^2}\right\}
        \end{equation*}
    \end{block}

    \centering
    \input{images/gauss_1d.tex}
\end{frame}


\begin{frame}{Distribuição Normal (Gaussiana)}
    \framesubtitle{Revisão}
    \begin{itemize}
        \item Bivariável: $\color{blue}{p(\mathbf{x}) \sim N(\mu, \sum)}$
    \end{itemize}
    \centering
    \input{images/gauss_2d.tex}
\end{frame}



\begin{frame}{Distribuição Normal (Gaussiana)}
    \framesubtitle{Revisão}
    \begin{itemize}
        \item Bivariável: $\color{blue}{p(\mathbf{x}) \sim N(\mu, \sum)}$
    \begin{equation*}
        p(\mathbf{x}) = \frac{1}{(2\pi)^{\frac{d}{2}\|\sum\|^{\frac{1}{2}}}}\exp\left\{-\frac{1}{2} (\mathbf{x}-\mu)^T\sum{}^{-1}(\mathbf{x}-\mu)\right\}
    \end{equation*}
    
    \item Para um sistema de duas Variável:
    
    \begin{equation*}
        p(\mathbf{x}) \sim N(\mu, \sum)
    \end{equation*}
    logo:     
    \begin{equation*}
        \begin{pmatrix}
            X_1 \\
            X_2
        \end{pmatrix}  \sim \mathcal{N} \left( \begin{pmatrix}
            \mu_1 \\
            \mu_2
        \end{pmatrix} , \begin{pmatrix}
            \sigma^2_1 &  \rho \sigma_1 \sigma_2 \\
            \rho \sigma_1 \sigma_2 &  \sigma^2_2
        \end{pmatrix} \right)
    \end{equation*}
    \end{itemize}
\end{frame}


\begin{frame}{Distribuição Normal (Gaussiana)}
    \framesubtitle{Propriedades}
    \begin{itemize}
        \item Caso Univariavel:
    \end{itemize}
    \centering
    \includegraphics[width=0.8\textwidth]{images/tmp0.png}
\end{frame}


\begin{frame}{Distribuição Normal (Gaussiana)}
    \framesubtitle{Propriedades}
    \begin{itemize}
        \item Caso Multivariável:
    \end{itemize}
    \centering
    \includegraphics[width=0.8\textwidth]{images/tmp1.png}
\end{frame}




\begin{frame}{Filtro Discreto de Kalman}
    \framesubtitle{Modelo determinísticoe estocástico}
    \begin{itemize}
        \item Num modelo determinístico o resultado do sistema é pré determinado em função dos dados de entrada, exemplo:
        \begin{align*} 
            x_t &= A_t x_{t-1} + B u_t\\ 
            z_t &= C_t x_t
        \end{align*}

        \item Num modelo estocástico o Resultado do sistema não depende somente dos dados de entrada, mas também de outros fatores, normalmente
        aleatórios:
        \begin{align} 
            x_t &= A_t x_{t-1} + B u_t +  \varepsilon_t\\ 
            z_t &= C_t x_t + \delta_t
        \end{align}

        \begin{itemize}
            \item $A_t$ Matriz $(n \times n)$ que descreve os estados do modelo.
            \item $B_t$ Matriz $(n \times l)$ que descreve os estados do controle.
            \item $C_t$ Matrix $(k\times n)$ sendo os estados de $x_t$.
            \item $ \varepsilon_t$ Variável aleatória do processo.
            \item $\delta_t$ Rúido aleatório com distribuição normal e covariância de $R_t$ e $Q_t$.
        \end{itemize}
    \end{itemize}
\end{frame}


\begin{frame}{Filtro Discreto de Kalman}
    \framesubtitle{Representação Grafica}

    \input{images/gauss_1da.tex}

\end{frame}




\begin{frame}{KF, EKF e UKF}
  teste
\end{frame}

\begin{frame}[t]{Referências}
    \begin{itemize}
        \item http://www.embarcados.com.br/arduino-entradasaidas-digitais/
        \item \href{https://www.youtube.com/watch?v=DE6Jn2cB4J4&list=PLgnQpQtFTOGQrZ4O5QzbIHgl3b1JHimN_&index=5}{aula kalman} 
        \item \href{https://www.youtube.com/watch?v=QZ5q59H2qaI}{Fusion Odometry and IMU}
        \item http://www.ic.uff.br/~bianca/ia-20091/aulas/IA-Aula11.ppt (crença)
    \end{itemize}
\end{frame}
\end{document}