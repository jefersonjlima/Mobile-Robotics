stages:
  - pdf
  - pages


pdf_stage:
  stage: pdf
  image: timnn/texlive  # use a Docker image for LaTeX from https://hub.docker.com/
  script:
    - tex --version
    - mkdir pdf_output
    - cd ./1-introducao-a-robotica-movel/
    - pdflatex cinematica-e-dinamica.tex  # build the pdf just as you would on your computer
    - mv cinematica-e-dinamica.pdf ../pdf_output/
  artifacts:
    paths: 
      - pdf_output  # instruct GitLab to keep the main.pdf file
  only:
    - master


pages:
  stage: pages
  image: registry.gitlab.com/pages/hugo:latest
  script:
    - ls
    - mv ./pdf_output/*.pdf ./docs/api/static/
    - cd ./docs/api
    - hugo
    - mv public ../../public
  artifacts:
    paths:
      - public
  only:
    - master